<div class="container">
    <form [formGroup]='form' (ngSubmit)='modifyProduct()'>
        <div class="containerForm">
          <h1>Modificar producto</h1>
          <p>Modifica los datos necesarios para modificar el producto (si omite la foto, la misma no sera modificada)</p>
  
          <label for="name"><b>Nombre del producto: </b></label>
          <input type="text" placeholder="Ingrese el nombre del producto aqui" formControlName='name' name="name" required>
        
          <div class='text-danger p-1 m-0' *ngIf="form.get('email')?.touched && form.get('email')?.errors?.required">
              Ingrese el nombre del producto
          </div>
  
          <label for="price"><b>Precio del producto: </b></label>
          <input type="number" placeholder="Ingrese el nombre del producto" formControlName='price' name="price" required>
            
          <div class='text-danger p-1' *ngIf="form.get('price')?.touched && form.get('price')?.errors?.required">
            Ingrese el precio del producto
          </div>
          
          <label for="stock"><b>Stock del producto: </b></label>
          <input type="number" placeholder="Ingrese la cantidad de stock del producto" formControlName='stock' name="stock" required>
            
          <div class='text-danger p-1' *ngIf="form.get('stock')?.touched && form.get('stock')?.errors?.required">
            Ingrese el stock del producto
          </div>

          <label for="description"><b>Descripción del producto: </b></label>
          <textarea type="text" rows="4" cols="3" placeholder="Ingrese la descripción del producto" formControlName='description' name="description" required></textarea>
            
          <div class='text-danger p-1' *ngIf="form.get('description')?.touched && form.get('description')?.errors?.required">
            Ingrese la descripcion del producto
          </div>

        <label for="category">Ingrese la categoria del producto: </label>
        <select name="category" formControlName='category' required>
            <option value="Electronica">Electronica</option>
            <option value="Ropa">Ropa</option>
        </select>

        <div class='text-danger p-1' *ngIf="form.get('category')?.touched && form.get('category')?.errors?.required">
            Ingrese la categoria del producto
        </div>

        <div class="row row-cols-1 row-cols-md-2 g-4 justify-content-center mt-5">
          <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12 col-auto" *ngFor="let image of this.product.images">
              <img [src]='this.API + image' alt="" height="200px" width="200px">
              <span class="fas fa-trash-alt" (click)="deleteImage(image)" style="position: absolute;"></span>
          </div>
        </div>

        <label for="image">Imagen del producto:</label>
        <div class="input-group">
            <input type="file" name='image' id="photo">
        </div>

        <p>Nota: Las nuevas imagenes no van a ser visibles hasta que se suban</p>
        <P>Si borro una imagen debe tocar el boton de abajo para que los cambios hagan efecto</P>
        <div class="clearfix">
            <button type="submit" [disabled]='form.invalid' class="btn">Modificar producto</button>
        </div>
        </div>
    </form>
</div>